---
import Layout from "../layouts/Layout.astro";
import Heroteam from "../components/Heroteam.astro";
import TeamGrid from "../components/TeamGrid.astro";
import Newsletter from "../components/Newsletter.astro";

// ✅ Fetch employee data and log it for debugging
let employeesData = [];

try {
  const response = await fetch("https://frontend-design-theme.netlify.app/api/employees");
  if (!response.ok) {
    throw new Error(`HTTP error! Status: ${response.status}`);
  }

  employeesData = await response.json();
  console.log("✅ Employee Data:", employeesData); // ✅ Log API response
} catch (error) {
  console.error("❌ Error fetching team data:", error);
}
---

<Layout>
  <Heroteam />
  <TeamGrid teamData={employeesData} />
  <Newsletter />
</Layout>
